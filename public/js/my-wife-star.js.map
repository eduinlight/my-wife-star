{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","angle.js","board.js","index.js","point.js","radian.js","star.js","triangle.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"my-wife-star.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar radian_1 = __importDefault(require(\"./radian\"));\nvar Angle = /** @class */ (function () {\n    function Angle(value) {\n        this.value = value;\n    }\n    Angle.prototype.toRadian = function () {\n        return new radian_1.default(this.value * Math.PI / 180);\n    };\n    return Angle;\n}());\nexports.default = Angle;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Board = /** @class */ (function () {\n    function Board(context, width, height) {\n        this.width = width;\n        this.height = height;\n        this.context = context;\n        this.configure();\n    }\n    Board.prototype.configure = function () {\n        this.context.translate(this.width / 2.0, this.height / 2.0);\n    };\n    Board.prototype.drawLine = function (from, to) {\n        this.context.moveTo(from.x, from.y);\n        this.context.lineTo(to.x, to.y);\n        this.context.stroke();\n    };\n    Board.prototype.drawCircle = function (center, radius) {\n        this.context.beginPath();\n        this.context.arc(center.x, center.y, radius, 0, 2 * Math.PI);\n        this.context.stroke();\n    };\n    Board.prototype.fillCircle = function (center, radius, color) {\n        if (color === void 0) { color = 'black'; }\n        this.context.beginPath();\n        this.context.arc(center.x, center.y, radius, 0, 2 * Math.PI);\n        this.context.fillStyle = color;\n        this.context.fill();\n    };\n    Board.prototype.drawTriangle = function (triangle) {\n        this.context.beginPath();\n        this.context.moveTo(triangle.a.x, triangle.a.y);\n        this.context.lineTo(triangle.b.x, triangle.b.y);\n        this.context.lineTo(triangle.c.x, triangle.c.y);\n        this.context.lineTo(triangle.a.x, triangle.a.y);\n        this.context.stroke();\n    };\n    Board.prototype.fillTriangle = function (triangle, color) {\n        if (color === void 0) { color = 'black'; }\n        this.context.beginPath();\n        this.context.moveTo(triangle.a.x, triangle.a.y);\n        this.context.lineTo(triangle.b.x, triangle.b.y);\n        this.context.lineTo(triangle.c.x, triangle.c.y);\n        this.context.lineTo(triangle.a.x, triangle.a.y);\n        this.context.fillStyle = color;\n        this.context.fill();\n    };\n    Board.prototype.drawPoint = function (point, radius) {\n        if (radius === void 0) { radius = 2; }\n        this.drawCircle(point, radius);\n    };\n    Board.prototype.fillPoint = function (point, radius, color) {\n        if (radius === void 0) { radius = 2; }\n        if (color === void 0) { color = 'black'; }\n        this.fillCircle(point, radius, color);\n    };\n    Board.prototype.drawStar = function (star) {\n        for (var _i = 0, _a = star.triangles; _i < _a.length; _i++) {\n            var triangle = _a[_i];\n            this.drawTriangle(triangle);\n        }\n    };\n    Board.prototype.fillStar = function (star, colors) {\n        if (colors === void 0) { colors = ['red', 'black']; }\n        var pos = -1;\n        var nextColor = function () {\n            pos = (pos + 1) % colors.length;\n            return colors[pos];\n        };\n        for (var _i = 0, _a = star.triangles; _i < _a.length; _i++) {\n            var triangle = _a[_i];\n            var color = nextColor();\n            this.fillTriangle(triangle, color);\n        }\n    };\n    return Board;\n}());\nexports.default = Board;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar board_1 = __importDefault(require(\"./board\"));\nvar star_1 = __importDefault(require(\"./star\"));\nvar point_1 = __importDefault(require(\"./point\"));\nvar root = document.querySelector('#root');\nvar container = document.createElement('div');\ncontainer.style.display = 'flex';\ncontainer.style.flexWrap = 'wrap';\nroot.appendChild(container);\nvar starSize = 200;\nvar totalPoints = 30;\nfor (var i = 1; i <= totalPoints; i++) {\n    var canvas = document.createElement('canvas');\n    canvas.width = starSize;\n    canvas.height = starSize;\n    var text = document.createElement('h5');\n    text.innerHTML = i + \" point\" + (i === 1 ? '' : 's');\n    text.style.textAlign = 'center';\n    var card = document.createElement('div');\n    card.style.margin = '2px';\n    card.appendChild(text);\n    card.appendChild(canvas);\n    container.appendChild(card);\n    var context = canvas.getContext('2d');\n    if (context !== null) {\n        var board = new board_1.default(context, starSize, starSize);\n        var star = new star_1.default(new point_1.default(0, 0), 200, i);\n        board.fillStar(star);\n    }\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Point2D = /** @class */ (function () {\n    function Point2D(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    Point2D.prototype.rotate = function (angle) {\n        var value = angle.toRadian().value;\n        var rotationMatrix = [\n            [Math.cos(value), -Math.sin(value)],\n            [Math.sin(value), Math.cos(value)]\n        ];\n        // matrix multiplication\n        return new Point2D(this.x * rotationMatrix[0][0] + this.y * rotationMatrix[1][0], this.x * rotationMatrix[0][1] + this.y * rotationMatrix[1][1]);\n    };\n    return Point2D;\n}());\nexports.default = Point2D;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar radian_1 = __importDefault(require(\"./radian\"));\nvar Radian = /** @class */ (function () {\n    function Radian(value) {\n        this.value = value;\n    }\n    Radian.prototype.toAngle = function () {\n        return new radian_1.default(this.value * 180 / Math.PI);\n    };\n    return Radian;\n}());\nexports.default = Radian;","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar triangle_1 = __importDefault(require(\"./triangle\"));\nvar point_1 = __importDefault(require(\"./point\"));\nvar angle_1 = __importDefault(require(\"./angle\"));\nvar Star = /** @class */ (function () {\n    function Star(position, size, numPoints) {\n        if (numPoints === void 0) { numPoints = 5; }\n        this.triangles = [];\n        this.size = size;\n        this.position = position;\n        this.numPoints = numPoints;\n        this.generateStar();\n    }\n    Star.prototype.generateStar = function () {\n        var _this = this;\n        var circleOutRadius = this.size / 2;\n        var circleInRadius = circleOutRadius / 2;\n        var innerPoints = this.generateCirclePoints(circleInRadius);\n        var outerPoints = this.generateCirclePoints(circleOutRadius).map(function (point) { return point.rotate(new angle_1.default(360 / _this.numPoints / 2)); });\n        this.triangles = this.generateTriangles(innerPoints, outerPoints);\n    };\n    Star.prototype.generateCirclePoints = function (radius) {\n        var angle = new angle_1.default(360.0 / this.numPoints);\n        var startPoint = new point_1.default(radius, 0);\n        var points = [startPoint];\n        for (var i = 1; i < this.numPoints; i++) {\n            var point = points[i - 1];\n            points.push(point.rotate(angle));\n        }\n        return points;\n    };\n    Star.prototype.generateTriangles = function (innerPoints, outerPoints) {\n        var triangles = [];\n        var numPoints = innerPoints.length;\n        for (var i = 0; i < numPoints; i++) {\n            var nextI = (i + 1) % numPoints;\n            triangles.push(new triangle_1.default(this.position, outerPoints[i], innerPoints[i]));\n            triangles.push(new triangle_1.default(this.position, outerPoints[i], innerPoints[nextI]));\n        }\n        return triangles;\n    };\n    return Star;\n}());\nexports.default = Star;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Triangle = /** @class */ (function () {\n    function Triangle(a, b, c) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n    }\n    return Triangle;\n}());\nexports.default = Triangle;"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhbmdsZS5qcyIsImJvYXJkLmpzIiwiaW5kZXguanMiLCJwb2ludC5qcyIsInJhZGlhbi5qcyIsInN0YXIuanMiLCJ0cmlhbmdsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2xCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByYWRpYW5fMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9yYWRpYW5cIikpO1xudmFyIEFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFuZ2xlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgQW5nbGUucHJvdG90eXBlLnRvUmFkaWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbmV3IHJhZGlhbl8xLmRlZmF1bHQodGhpcy52YWx1ZSAqIE1hdGguUEkgLyAxODApO1xuICAgIH07XG4gICAgcmV0dXJuIEFuZ2xlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFuZ2xlOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJvYXJkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEJvYXJkKGNvbnRleHQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5jb25maWd1cmUoKTtcbiAgICB9XG4gICAgQm9hcmQucHJvdG90eXBlLmNvbmZpZ3VyZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0LnRyYW5zbGF0ZSh0aGlzLndpZHRoIC8gMi4wLCB0aGlzLmhlaWdodCAvIDIuMCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd0xpbmUgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyhmcm9tLngsIGZyb20ueSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8odG8ueCwgdG8ueSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3Q2lyY2xlID0gZnVuY3Rpb24gKGNlbnRlciwgcmFkaXVzKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB0aGlzLmNvbnRleHQuc3Ryb2tlKCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZmlsbENpcmNsZSA9IGZ1bmN0aW9uIChjZW50ZXIsIHJhZGl1cywgY29sb3IpIHtcbiAgICAgICAgaWYgKGNvbG9yID09PSB2b2lkIDApIHsgY29sb3IgPSAnYmxhY2snOyB9XG4gICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd1RyaWFuZ2xlID0gZnVuY3Rpb24gKHRyaWFuZ2xlKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jb250ZXh0Lm1vdmVUbyh0cmlhbmdsZS5hLngsIHRyaWFuZ2xlLmEueSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8odHJpYW5nbGUuYi54LCB0cmlhbmdsZS5iLnkpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHRyaWFuZ2xlLmMueCwgdHJpYW5nbGUuYy55KTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyh0cmlhbmdsZS5hLngsIHRyaWFuZ2xlLmEueSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5maWxsVHJpYW5nbGUgPSBmdW5jdGlvbiAodHJpYW5nbGUsIGNvbG9yKSB7XG4gICAgICAgIGlmIChjb2xvciA9PT0gdm9pZCAwKSB7IGNvbG9yID0gJ2JsYWNrJzsgfVxuICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgIHRoaXMuY29udGV4dC5tb3ZlVG8odHJpYW5nbGUuYS54LCB0cmlhbmdsZS5hLnkpO1xuICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHRyaWFuZ2xlLmIueCwgdHJpYW5nbGUuYi55KTtcbiAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyh0cmlhbmdsZS5jLngsIHRyaWFuZ2xlLmMueSk7XG4gICAgICAgIHRoaXMuY29udGV4dC5saW5lVG8odHJpYW5nbGUuYS54LCB0cmlhbmdsZS5hLnkpO1xuICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XG4gICAgfTtcbiAgICBCb2FyZC5wcm90b3R5cGUuZHJhd1BvaW50ID0gZnVuY3Rpb24gKHBvaW50LCByYWRpdXMpIHtcbiAgICAgICAgaWYgKHJhZGl1cyA9PT0gdm9pZCAwKSB7IHJhZGl1cyA9IDI7IH1cbiAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKHBvaW50LCByYWRpdXMpO1xuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmZpbGxQb2ludCA9IGZ1bmN0aW9uIChwb2ludCwgcmFkaXVzLCBjb2xvcikge1xuICAgICAgICBpZiAocmFkaXVzID09PSB2b2lkIDApIHsgcmFkaXVzID0gMjsgfVxuICAgICAgICBpZiAoY29sb3IgPT09IHZvaWQgMCkgeyBjb2xvciA9ICdibGFjayc7IH1cbiAgICAgICAgdGhpcy5maWxsQ2lyY2xlKHBvaW50LCByYWRpdXMsIGNvbG9yKTtcbiAgICB9O1xuICAgIEJvYXJkLnByb3RvdHlwZS5kcmF3U3RhciA9IGZ1bmN0aW9uIChzdGFyKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBzdGFyLnRyaWFuZ2xlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciB0cmlhbmdsZSA9IF9hW19pXTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1RyaWFuZ2xlKHRyaWFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQm9hcmQucHJvdG90eXBlLmZpbGxTdGFyID0gZnVuY3Rpb24gKHN0YXIsIGNvbG9ycykge1xuICAgICAgICBpZiAoY29sb3JzID09PSB2b2lkIDApIHsgY29sb3JzID0gWydyZWQnLCAnYmxhY2snXTsgfVxuICAgICAgICB2YXIgcG9zID0gLTE7XG4gICAgICAgIHZhciBuZXh0Q29sb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwb3MgPSAocG9zICsgMSkgJSBjb2xvcnMubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1twb3NdO1xuICAgICAgICB9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gc3Rhci50cmlhbmdsZXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgdHJpYW5nbGUgPSBfYVtfaV07XG4gICAgICAgICAgICB2YXIgY29sb3IgPSBuZXh0Q29sb3IoKTtcbiAgICAgICAgICAgIHRoaXMuZmlsbFRyaWFuZ2xlKHRyaWFuZ2xlLCBjb2xvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBCb2FyZDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBCb2FyZDsiLCJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2ltcG9ydERlZmF1bHQgPSAodGhpcyAmJiB0aGlzLl9faW1wb3J0RGVmYXVsdCkgfHwgZnVuY3Rpb24gKG1vZCkge1xuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgXCJkZWZhdWx0XCI6IG1vZCB9O1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBib2FyZF8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL2JvYXJkXCIpKTtcbnZhciBzdGFyXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vc3RhclwiKSk7XG52YXIgcG9pbnRfMSA9IF9faW1wb3J0RGVmYXVsdChyZXF1aXJlKFwiLi9wb2ludFwiKSk7XG52YXIgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNyb290Jyk7XG52YXIgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5jb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbmNvbnRhaW5lci5zdHlsZS5mbGV4V3JhcCA9ICd3cmFwJztcbnJvb3QuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbnZhciBzdGFyU2l6ZSA9IDIwMDtcbnZhciB0b3RhbFBvaW50cyA9IDMwO1xuZm9yICh2YXIgaSA9IDE7IGkgPD0gdG90YWxQb2ludHM7IGkrKykge1xuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjYW52YXMud2lkdGggPSBzdGFyU2l6ZTtcbiAgICBjYW52YXMuaGVpZ2h0ID0gc3RhclNpemU7XG4gICAgdmFyIHRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoNScpO1xuICAgIHRleHQuaW5uZXJIVE1MID0gaSArIFwiIHBvaW50XCIgKyAoaSA9PT0gMSA/ICcnIDogJ3MnKTtcbiAgICB0ZXh0LnN0eWxlLnRleHRBbGlnbiA9ICdjZW50ZXInO1xuICAgIHZhciBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgY2FyZC5zdHlsZS5tYXJnaW4gPSAnMnB4JztcbiAgICBjYXJkLmFwcGVuZENoaWxkKHRleHQpO1xuICAgIGNhcmQuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgdmFyIGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICBpZiAoY29udGV4dCAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgYm9hcmQgPSBuZXcgYm9hcmRfMS5kZWZhdWx0KGNvbnRleHQsIHN0YXJTaXplLCBzdGFyU2l6ZSk7XG4gICAgICAgIHZhciBzdGFyID0gbmV3IHN0YXJfMS5kZWZhdWx0KG5ldyBwb2ludF8xLmRlZmF1bHQoMCwgMCksIDIwMCwgaSk7XG4gICAgICAgIGJvYXJkLmZpbGxTdGFyKHN0YXIpO1xuICAgIH1cbn0iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQb2ludDJEID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvaW50MkQoeCwgeSkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgIH1cbiAgICBQb2ludDJELnByb3RvdHlwZS5yb3RhdGUgPSBmdW5jdGlvbiAoYW5nbGUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYW5nbGUudG9SYWRpYW4oKS52YWx1ZTtcbiAgICAgICAgdmFyIHJvdGF0aW9uTWF0cml4ID0gW1xuICAgICAgICAgICAgW01hdGguY29zKHZhbHVlKSwgLU1hdGguc2luKHZhbHVlKV0sXG4gICAgICAgICAgICBbTWF0aC5zaW4odmFsdWUpLCBNYXRoLmNvcyh2YWx1ZSldXG4gICAgICAgIF07XG4gICAgICAgIC8vIG1hdHJpeCBtdWx0aXBsaWNhdGlvblxuICAgICAgICByZXR1cm4gbmV3IFBvaW50MkQodGhpcy54ICogcm90YXRpb25NYXRyaXhbMF1bMF0gKyB0aGlzLnkgKiByb3RhdGlvbk1hdHJpeFsxXVswXSwgdGhpcy54ICogcm90YXRpb25NYXRyaXhbMF1bMV0gKyB0aGlzLnkgKiByb3RhdGlvbk1hdHJpeFsxXVsxXSk7XG4gICAgfTtcbiAgICByZXR1cm4gUG9pbnQyRDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBQb2ludDJEOyIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJhZGlhbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuL3JhZGlhblwiKSk7XG52YXIgUmFkaWFuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJhZGlhbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIFJhZGlhbi5wcm90b3R5cGUudG9BbmdsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyByYWRpYW5fMS5kZWZhdWx0KHRoaXMudmFsdWUgKiAxODAgLyBNYXRoLlBJKTtcbiAgICB9O1xuICAgIHJldHVybiBSYWRpYW47XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUmFkaWFuOyIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9faW1wb3J0RGVmYXVsdCA9ICh0aGlzICYmIHRoaXMuX19pbXBvcnREZWZhdWx0KSB8fCBmdW5jdGlvbiAobW9kKSB7XG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBcImRlZmF1bHRcIjogbW9kIH07XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRyaWFuZ2xlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vdHJpYW5nbGVcIikpO1xudmFyIHBvaW50XzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vcG9pbnRcIikpO1xudmFyIGFuZ2xlXzEgPSBfX2ltcG9ydERlZmF1bHQocmVxdWlyZShcIi4vYW5nbGVcIikpO1xudmFyIFN0YXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Rhcihwb3NpdGlvbiwgc2l6ZSwgbnVtUG9pbnRzKSB7XG4gICAgICAgIGlmIChudW1Qb2ludHMgPT09IHZvaWQgMCkgeyBudW1Qb2ludHMgPSA1OyB9XG4gICAgICAgIHRoaXMudHJpYW5nbGVzID0gW107XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICAgICAgdGhpcy5udW1Qb2ludHMgPSBudW1Qb2ludHM7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGVTdGFyKCk7XG4gICAgfVxuICAgIFN0YXIucHJvdG90eXBlLmdlbmVyYXRlU3RhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNpcmNsZU91dFJhZGl1cyA9IHRoaXMuc2l6ZSAvIDI7XG4gICAgICAgIHZhciBjaXJjbGVJblJhZGl1cyA9IGNpcmNsZU91dFJhZGl1cyAvIDI7XG4gICAgICAgIHZhciBpbm5lclBvaW50cyA9IHRoaXMuZ2VuZXJhdGVDaXJjbGVQb2ludHMoY2lyY2xlSW5SYWRpdXMpO1xuICAgICAgICB2YXIgb3V0ZXJQb2ludHMgPSB0aGlzLmdlbmVyYXRlQ2lyY2xlUG9pbnRzKGNpcmNsZU91dFJhZGl1cykubWFwKGZ1bmN0aW9uIChwb2ludCkgeyByZXR1cm4gcG9pbnQucm90YXRlKG5ldyBhbmdsZV8xLmRlZmF1bHQoMzYwIC8gX3RoaXMubnVtUG9pbnRzIC8gMikpOyB9KTtcbiAgICAgICAgdGhpcy50cmlhbmdsZXMgPSB0aGlzLmdlbmVyYXRlVHJpYW5nbGVzKGlubmVyUG9pbnRzLCBvdXRlclBvaW50cyk7XG4gICAgfTtcbiAgICBTdGFyLnByb3RvdHlwZS5nZW5lcmF0ZUNpcmNsZVBvaW50cyA9IGZ1bmN0aW9uIChyYWRpdXMpIHtcbiAgICAgICAgdmFyIGFuZ2xlID0gbmV3IGFuZ2xlXzEuZGVmYXVsdCgzNjAuMCAvIHRoaXMubnVtUG9pbnRzKTtcbiAgICAgICAgdmFyIHN0YXJ0UG9pbnQgPSBuZXcgcG9pbnRfMS5kZWZhdWx0KHJhZGl1cywgMCk7XG4gICAgICAgIHZhciBwb2ludHMgPSBbc3RhcnRQb2ludF07XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGhpcy5udW1Qb2ludHM7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2kgLSAxXTtcbiAgICAgICAgICAgIHBvaW50cy5wdXNoKHBvaW50LnJvdGF0ZShhbmdsZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfTtcbiAgICBTdGFyLnByb3RvdHlwZS5nZW5lcmF0ZVRyaWFuZ2xlcyA9IGZ1bmN0aW9uIChpbm5lclBvaW50cywgb3V0ZXJQb2ludHMpIHtcbiAgICAgICAgdmFyIHRyaWFuZ2xlcyA9IFtdO1xuICAgICAgICB2YXIgbnVtUG9pbnRzID0gaW5uZXJQb2ludHMubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVBvaW50czsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbmV4dEkgPSAoaSArIDEpICUgbnVtUG9pbnRzO1xuICAgICAgICAgICAgdHJpYW5nbGVzLnB1c2gobmV3IHRyaWFuZ2xlXzEuZGVmYXVsdCh0aGlzLnBvc2l0aW9uLCBvdXRlclBvaW50c1tpXSwgaW5uZXJQb2ludHNbaV0pKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5wdXNoKG5ldyB0cmlhbmdsZV8xLmRlZmF1bHQodGhpcy5wb3NpdGlvbiwgb3V0ZXJQb2ludHNbaV0sIGlubmVyUG9pbnRzW25leHRJXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmlhbmdsZXM7XG4gICAgfTtcbiAgICByZXR1cm4gU3Rhcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTdGFyOyIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRyaWFuZ2xlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyaWFuZ2xlKGEsIGIsIGMpIHtcbiAgICAgICAgdGhpcy5hID0gYTtcbiAgICAgICAgdGhpcy5iID0gYjtcbiAgICAgICAgdGhpcy5jID0gYztcbiAgICB9XG4gICAgcmV0dXJuIFRyaWFuZ2xlO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRyaWFuZ2xlOyJdfQ=="}