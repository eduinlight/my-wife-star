{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","angle.ts","board.ts","index.ts","point.ts","radian.ts","star.ts","triangle.ts"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","radian_1","__importDefault","Angle","default","this","value","Math","PI","_classCallCheck","point_1","triangle_1","Board","point","x","width","y","height","from","to","fromTransformed","toXY","toTransformed","context","moveTo","lineTo","stroke","center","radius","centerTransformed","beginPath","arc","color","arguments","undefined","fillStyle","fill","triangle","triangleTransformed","b","drawCircle","fillCircle","star","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","triangles","Symbol","iterator","next","done","drawTriangle","err","return","colors","pos","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","fillTriangle","board_1","star_1","body","document","querySelector","canvas2","createElement","appendChild","getContext","board","console","log","drawStar","Point2D","angle","toRadian","rotationMatrix","cos","sin","Radian","angle_1","Star","_this","circleOutRadius","size","circleInRadius","innerPoints","generateCirclePoints","outerPoints","map","rotate","numPoints","generateTriangles","points","push","nextI","position","generateStar","Triangle"],"mappings":"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","file":"my-wife-star.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import Radian from './radian'\nexport default class Angle {\n  value: number\n\n  constructor (value: number) {\n    this.value = value\n  }\n\n  toRadian (): Radian {\n    return new Radian(this.value * Math.PI / 180)\n  }\n}\n","import Point2D from './point'\nimport Triangle from './triangle'\nimport Star from './star'\n\ntype Color = string | CanvasGradient | CanvasPattern\n\nclass Board {\n  width: number\n  height: number\n  context: CanvasRenderingContext2D\n\n  constructor (context: CanvasRenderingContext2D, width: number, height: number) {\n    this.width = width\n    this.height = height\n    this.context = context\n  }\n\n  toXY (point: Point2D): Point2D {\n    return new Point2D(\n      point.x + this.width / 2.0,\n      -point.y + this.height / 2.0\n    )\n  }\n\n  drawLine (from: Point2D, to: Point2D): void {\n    const fromTransformed = this.toXY(from)\n    const toTransformed = this.toXY(to)\n    this.context.moveTo(fromTransformed.x, fromTransformed.y)\n    this.context.lineTo(toTransformed.x, toTransformed.y)\n    this.context.stroke()\n  }\n\n  drawCircle (center: Point2D, radius: number): void {\n    const centerTransformed = this.toXY(center)\n    this.context.beginPath()\n    this.context.arc(centerTransformed.x, centerTransformed.y, radius, 0, 2 * Math.PI)\n    this.context.stroke()\n  }\n\n  fillCircle (center: Point2D, radius: number, color: Color = 'black'): void {\n    const centerTransformed = this.toXY(center)\n    this.context.beginPath()\n    this.context.arc(centerTransformed.x, centerTransformed.y, radius, 0, 2 * Math.PI)\n    this.context.fillStyle = color\n    this.context.fill()\n  }\n\n  drawTriangle (triangle: Triangle): void {\n    const triangleTransformed = new Triangle(this.toXY(triangle.a), this.toXY(triangle.b), this.toXY(triangle.c))\n    this.context.beginPath()\n    this.context.moveTo(triangleTransformed.a.x, triangleTransformed.a.y)\n    this.context.lineTo(triangleTransformed.b.x, triangleTransformed.b.y)\n    this.context.lineTo(triangleTransformed.c.x, triangleTransformed.c.y)\n    this.context.lineTo(triangleTransformed.a.x, triangleTransformed.a.y)\n    this.context.stroke()\n  }\n\n  fillTriangle (triangle: Triangle, color: Color = 'black'): void {\n    const triangleTransformed = new Triangle(this.toXY(triangle.a), this.toXY(triangle.b), this.toXY(triangle.c))\n    this.context.beginPath()\n    this.context.moveTo(triangleTransformed.a.x, triangleTransformed.a.y)\n    this.context.lineTo(triangleTransformed.b.x, triangleTransformed.b.y)\n    this.context.lineTo(triangleTransformed.c.x, triangleTransformed.c.y)\n    this.context.lineTo(triangleTransformed.a.x, triangleTransformed.a.y)\n    this.context.fillStyle = color\n    this.context.fill()\n  }\n\n  drawPoint (point: Point2D, radius = 2): void {\n    this.drawCircle(point, radius)\n  }\n\n  fillPoint (point: Point2D, radius = 2, color: Color = 'black'): void {\n    this.fillCircle(point, radius, color)\n  }\n\n  drawStar (star: Star): void {\n    for (const triangle of star.triangles) {\n      this.drawTriangle(triangle)\n    }\n  }\n\n  fillStar (star: Star, colors: Color[] = ['red', 'black']): void {\n    let pos = -1\n\n    const nextColor = () => {\n      pos = (pos + 1) % colors.length\n      return colors[pos]\n    }\n\n    for (const triangle of star.triangles) {\n      this.fillTriangle(triangle, nextColor())\n    }\n  }\n}\n\nexport default Board\n","import Board from './board'\nimport Star from './star'\nimport Point2D from './point'\n\nconst body = document.querySelector('body') as HTMLBodyElement\n\nconst starSize = 200\n\nconst canvas2 = document.createElement('canvas')\ncanvas2.width = starSize\ncanvas2.height = starSize\n\nbody.appendChild(canvas2)\n\nconst context = canvas2.getContext('2d')\nif (context !== null) {\n  const board = new Board(context, 200, 200)\n  const star = new Star(new Point2D(0, 0), 200, 5)\n\n  console.log(star.triangles)\n  board.drawStar(star)\n}\n","import Angle from './angle'\n\nexport default class Point2D {\n  x: number\n  y: number\n\n  constructor (x: number, y:number) {\n    this.x = x\n    this.y = y\n  }\n\n  rotate (angle: Angle): Point2D {\n    const { value } = angle.toRadian()\n    const rotationMatrix = [\n      [Math.cos(value), -Math.sin(value)],\n      [Math.sin(value), Math.cos(value)]\n    ]\n\n    // matrix multiplication\n    return new Point2D(\n      this.x * rotationMatrix[0][0] + this.y * rotationMatrix[1][0],\n      this.x * rotationMatrix[0][1] + this.y * rotationMatrix[1][1]\n    )\n  }\n}\n","import Angle from './radian'\nexport default class Radian {\n  value: number\n\n  constructor (value: number) {\n    this.value = value\n  }\n\n  toAngle (): Angle {\n    return new Angle(this.value * 180 / Math.PI)\n  }\n}\n","import Triangle from './triangle'\nimport Point2D from './point'\nimport Angle from './angle'\n\nexport default class Star {\n  triangles: Triangle[] = []\n  size: number\n  position: Point2D\n  numPoints: number\n\n  constructor (position: Point2D, size: number, numPoints: number = 5) {\n    this.size = size\n    this.position = position\n    this.numPoints = numPoints\n    this.generateStar()\n  }\n\n  generateStar (): void {\n    const circleOutRadius = this.size / 2\n    const circleInRadius = circleOutRadius / 2\n\n    const innerPoints = this.generateCirclePoints(circleInRadius)\n    const outerPoints = this.generateCirclePoints(\n      circleOutRadius\n    ).map(point => point.rotate(new Angle(360 / this.numPoints / 2)))\n\n    this.triangles = this.generateTriangles(innerPoints, outerPoints)\n  }\n\n  private generateCirclePoints (radius: number): Point2D[] {\n    const angle = new Angle(360.0 / this.numPoints)\n    const startPoint = new Point2D(radius, 0)\n    const points = [startPoint]\n    for (let i = 1; i <= this.numPoints; i++) {\n      const point = points[i - 1]\n      points.push(point.rotate(angle))\n    }\n\n    return points\n  }\n\n  private generateTriangles (innerPoints: Point2D[], outerPoints: Point2D[]): Triangle[] {\n    const triangles: Triangle[] = []\n    const numPoints = innerPoints.length\n    for (let i = 0; i < numPoints; i++) {\n      const nextI = (i + 1) % numPoints\n\n      triangles.push(new Triangle(this.position, outerPoints[i], innerPoints[i]))\n      triangles.push(new Triangle(this.position, outerPoints[i], innerPoints[nextI]))\n    }\n\n    return triangles\n  }\n}\n","import Point2D from './point'\n\nexport default class Triangle {\n  b: Point2D\n  a: Point2D\n  c: Point2D\n\n  constructor (a: Point2D, b: Point2D, c: Point2D) {\n    this.a = a\n    this.b = b\n    this.c = c\n  }\n}\n"]}