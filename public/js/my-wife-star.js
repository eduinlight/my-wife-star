(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
const drawBoard = document.querySelector('canvas');
const context = drawBoard.getContext('2d');
const board = {
    width: 200.0,
    height: 200.0
};
const pointRadius = 2;
const rotationMatrix = [
    [a => Math.cos(a), a => -Math.sin(a)],
    [a => Math.sin(a), a => Math.cos(a)]
];
function angleToRadian(angle) {
    return (angle * Math.PI) / 180;
}
function vectorScalarProduct(vector, scalar) {
    return { x: vector.x * scalar, y: vector.y * scalar };
}
function rotatePoint(point, angle) {
    const radian = angleToRadian(angle);
    const rotationMatrix = [
        [Math.cos(radian), -Math.sin(radian)],
        [Math.sin(radian), Math.cos(radian)]
    ];
    // matrix multiplication
    return {
        x: point.x * rotationMatrix[0][0] + point.y * rotationMatrix[1][0],
        y: point.x * rotationMatrix[0][1] + point.y * rotationMatrix[1][1]
    };
}
function toXY(point) {
    return {
        x: point.x + board.width / 2.0,
        y: -point.y + board.height / 2.0
    };
}
function drawCircle(center, radius) {
    context.beginPath();
    context.arc(center.x, center.y, radius, 0, 2 * Math.PI);
    context.stroke();
}
function drawPoint(point) {
    drawCircle(point, pointRadius);
}
function drawLine(from, to) {
    context.moveTo(from.x, from.y);
    context.lineTo(to.x, to.y);
    context.stroke();
}
function drawTriangle(a, b, c, color = 'black') {
    context.beginPath();
    context.moveTo(a.x, a.y);
    context.lineTo(b.x, b.y);
    context.lineTo(c.x, c.y);
    context.lineTo(a.x, a.y);
    context.fillStyle = color;
    context.fill();
}
const center = { x: 0, y: 0 };
drawPoint(toXY(center));
const circleOutRadius = board.width / 2;
const circleInRadius = circleOutRadius / 2;
drawCircle(toXY(center), circleOutRadius);
drawCircle(toXY(center), circleInRadius);
// draw star
function generateStarPoints(starPoints, radius) {
    const starAngle = 360.0 / starPoints;
    const points = [{ x: radius, y: 0 }];
    for (let i = 1; i <= starPoints; i++) {
        const point = points[i - 1];
        const pointRotated = rotatePoint(point, starAngle);
        points.push(pointRotated);
    }
    return points;
}
function drawStar(starPoints = 5) {
    const innerPoints = generateStarPoints(starPoints, circleInRadius);
    const outerPoints = generateStarPoints(starPoints, circleOutRadius).map(point => rotatePoint(point, 360 / starPoints / 2));
    // build triangles
    const triangles = [];
    for (let i = 0; i < starPoints; i++) {
        const nextI = (i + 1) % starPoints;
        drawPoint(toXY(outerPoints[i]));
        drawPoint(toXY(innerPoints[i]));
        triangles.push([center, outerPoints[i], innerPoints[i]]);
        triangles.push([center, outerPoints[i], innerPoints[i + 1]]);
    }
    // for (let i = 0 i < triangles.length i++) {
    //   const triangle = triangles[i]
    //   drawTriangle(
    //     toXY(triangle[0]),
    //     toXY(triangle[1]),
    //     toXY(triangle[2]),
    //     i % 2 == 0 ? "red" : "black"
    //   )
    // }
}
drawStar(6);

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7QUNBQSxNQUFNLFNBQVMsR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2xELE1BQU0sT0FBTyxHQUFHLFNBQVMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7QUFDMUMsTUFBTSxLQUFLLEdBQUc7SUFDWixLQUFLLEVBQUUsS0FBSztJQUNaLE1BQU0sRUFBRSxLQUFLO0NBQ2QsQ0FBQTtBQUNELE1BQU0sV0FBVyxHQUFHLENBQUMsQ0FBQTtBQUNyQixNQUFNLGNBQWMsR0FBRztJQUNyQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7Q0FDckMsQ0FBQTtBQUVELFNBQVMsYUFBYSxDQUFFLEtBQUs7SUFDM0IsT0FBTyxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxDQUFBO0FBQ2hDLENBQUM7QUFFRCxTQUFTLG1CQUFtQixDQUFFLE1BQU0sRUFBRSxNQUFNO0lBQzFDLE9BQU8sRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsR0FBRyxNQUFNLEVBQUUsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsTUFBTSxFQUFFLENBQUE7QUFDdkQsQ0FBQztBQUVELFNBQVMsV0FBVyxDQUFFLEtBQUssRUFBRSxLQUFLO0lBQ2hDLE1BQU0sTUFBTSxHQUFH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QjtJQUNsQixNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUE7SUFDcEIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsRUFBRSxDQUFDLEVBQUUsRUFBRTtRQUNuQyxNQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxVQUFVLENBQUE7UUFFbEMsU0FBUyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQy9CLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUUvQixTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxFQUFFLFdBQVcsQ0FBQyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3hELFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLEVBQUUsV0FBVyxDQUFDLENBQUMsQ0FBQyxFQUFFLFdBQVcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0tBQzdEO0lBRUQsNkNBQTZDO0lBQzdDLGtDQUFrQztJQUNsQyxrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLHlCQUF5QjtJQUN6Qix5QkFBeUI7SUFDekIsbUNBQW1DO0lBQ25DLE1BQU07SUFDTixJQUFJO0FBQ04sQ0FBQztBQUVELFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImNvbnN0IGRyYXdCb2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpXG5jb25zdCBjb250ZXh0ID0gZHJhd0JvYXJkLmdldENvbnRleHQoJzJkJylcbmNvbnN0IGJvYXJkID0ge1xuICB3aWR0aDogMjAwLjAsXG4gIGhlaWdodDogMjAwLjBcbn1cbmNvbnN0IHBvaW50UmFkaXVzID0gMlxuY29uc3Qgcm90YXRpb25NYXRyaXggPSBbXG4gIFthID0+IE1hdGguY29zKGEpLCBhID0+IC1NYXRoLnNpbihhKV0sXG4gIFthID0+IE1hdGguc2luKGEpLCBhID0+IE1hdGguY29zKGEpXVxuXVxuXG5mdW5jdGlvbiBhbmdsZVRvUmFkaWFuIChhbmdsZSkge1xuICByZXR1cm4gKGFuZ2xlICogTWF0aC5QSSkgLyAxODBcbn1cblxuZnVuY3Rpb24gdmVjdG9yU2NhbGFyUHJvZHVjdCAodmVjdG9yLCBzY2FsYXIpIHtcbiAgcmV0dXJuIHsgeDogdmVjdG9yLnggKiBzY2FsYXIsIHk6IHZlY3Rvci55ICogc2NhbGFyIH1cbn1cblxuZnVuY3Rpb24gcm90YXRlUG9pbnQgKHBvaW50LCBhbmdsZSkge1xuICBjb25zdCByYWRpYW4gPSBhbmdsZVRvUmFkaWFuKGFuZ2xlKVxuICBjb25zdCByb3RhdGlvbk1hdHJpeCA9IFtcbiAgICBbTWF0aC5jb3MocmFkaWFuKSwgLU1hdGguc2luKHJhZGlhbildLFxuICAgIFtNYXRoLnNpbihyYWRpYW4pLCBNYXRoLmNvcyhyYWRpYW4pXVxuICBdXG5cbiAgLy8gbWF0cml4IG11bHRpcGxpY2F0aW9uXG4gIHJldHVybiB7XG4gICAgeDogcG9pbnQueCAqIHJvdGF0aW9uTWF0cml4WzBdWzBdICsgcG9pbnQueSAqIHJvdGF0aW9uTWF0cml4WzFdWzBdLFxuICAgIHk6IHBvaW50LnggKiByb3RhdGlvbk1hdHJpeFswXVsxXSArIHBvaW50LnkgKiByb3RhdGlvbk1hdHJpeFsxXVsxXVxuICB9XG59XG5cbmZ1bmN0aW9uIHRvWFkgKHBvaW50KSB7XG4gIHJldHVybiB7XG4gICAgeDogcG9pbnQueCArIGJvYXJkLndpZHRoIC8gMi4wLFxuICAgIHk6IC1wb2ludC55ICsgYm9hcmQuaGVpZ2h0IC8gMi4wXG4gIH1cbn1cblxuZnVuY3Rpb24gZHJhd0NpcmNsZSAoY2VudGVyLCByYWRpdXMpIHtcbiAgY29udGV4dC5iZWdpblBhdGgoKVxuICBjb250ZXh0LmFyYyhjZW50ZXIueCwgY2VudGVyLnksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpXG4gIGNvbnRleHQuc3Ryb2tlKClcbn1cblxuZnVuY3Rpb24gZHJhd1BvaW50IChwb2ludCkge1xuICBkcmF3Q2lyY2xlKHBvaW50LCBwb2ludFJhZGl1cylcbn1cblxuZnVuY3Rpb24gZHJhd0xpbmUgKGZyb20sIHRvKSB7XG4gIGNvbnRleHQubW92ZVRvKGZyb20ueCwgZnJvbS55KVxuICBjb250ZXh0LmxpbmVUbyh0by54LCB0by55KVxuICBjb250ZXh0LnN0cm9rZSgpXG59XG5cbmZ1bmN0aW9uIGRyYXdUcmlhbmdsZSAoYSwgYiwgYywgY29sb3IgPSAnYmxhY2snKSB7XG4gIGNvbnRleHQuYmVnaW5QYXRoKClcbiAgY29udGV4dC5tb3ZlVG8oYS54LCBhLnkpXG4gIGNvbnRleHQubGluZVRvKGIueCwgYi55KVxuICBjb250ZXh0LmxpbmVUbyhjLngsIGMueSlcbiAgY29udGV4dC5saW5lVG8oYS54LCBhLnkpXG4gIGNvbnRleHQuZmlsbFN0eWxlID0gY29sb3JcbiAgY29udGV4dC5maWxsKClcbn1cblxuY29uc3QgY2VudGVyID0geyB4OiAwLCB5OiAwIH1cbmRyYXdQb2ludCh0b1hZKGNlbnRlcikpXG5cbmNvbnN0IGNpcmNsZU91dFJhZGl1cyA9IGJvYXJkLndpZHRoIC8gMlxuY29uc3QgY2lyY2xlSW5SYWRpdXMgPSBjaXJjbGVPdXRSYWRpdXMgLyAyXG5kcmF3Q2lyY2xlKHRvWFkoY2VudGVyKSwgY2lyY2xlT3V0UmFkaXVzKVxuZHJhd0NpcmNsZSh0b1hZKGNlbnRlciksIGNpcmNsZUluUmFkaXVzKVxuXG4vLyBkcmF3IHN0YXJcbmZ1bmN0aW9uIGdlbmVyYXRlU3RhclBvaW50cyAoc3RhclBvaW50cywgcmFkaXVzKSB7XG4gIGNvbnN0IHN0YXJBbmdsZSA9IDM2MC4wIC8gc3RhclBvaW50c1xuICBjb25zdCBwb2ludHMgPSBbeyB4OiByYWRpdXMsIHk6IDAgfV1cbiAgZm9yIChsZXQgaSA9IDE7IGkgPD0gc3RhclBvaW50czsgaSsrKSB7XG4gICAgY29uc3QgcG9pbnQgPSBwb2ludHNbaSAtIDFdXG4gICAgY29uc3QgcG9pbnRSb3RhdGVkID0gcm90YXRlUG9pbnQocG9pbnQsIHN0YXJBbmdsZSlcbiAgICBwb2ludHMucHVzaChwb2ludFJvdGF0ZWQpXG4gIH1cblxuICByZXR1cm4gcG9pbnRzXG59XG5cbmZ1bmN0aW9uIGRyYXdTdGFyIChzdGFyUG9pbnRzID0gNSkge1xuICBjb25zdCBpbm5lclBvaW50cyA9IGdlbmVyYXRlU3RhclBvaW50cyhzdGFyUG9pbnRzLCBjaXJjbGVJblJhZGl1cylcbiAgY29uc3Qgb3V0ZXJQb2ludHMgPSBnZW5lcmF0ZVN0YXJQb2ludHMoXG4gICAgc3RhclBvaW50cyxcbiAgICBjaXJjbGVPdXRSYWRpdXNcbiAgKS5tYXAocG9pbnQgPT4gcm90YXRlUG9pbnQocG9pbnQsIDM2MCAvIHN0YXJQb2ludHMgLyAyKSlcblxuICAvLyBidWlsZCB0cmlhbmdsZXNcbiAgY29uc3QgdHJpYW5nbGVzID0gW11cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyUG9pbnRzOyBpKyspIHtcbiAgICBjb25zdCBuZXh0SSA9IChpICsgMSkgJSBzdGFyUG9pbnRzXG5cbiAgICBkcmF3UG9pbnQodG9YWShvdXRlclBvaW50c1tpXSkpXG4gICAgZHJhd1BvaW50KHRvWFkoaW5uZXJQb2ludHNbaV0pKVxuXG4gICAgdHJpYW5nbGVzLnB1c2goW2NlbnRlciwgb3V0ZXJQb2ludHNbaV0sIGlubmVyUG9pbnRzW2ldXSlcbiAgICB0cmlhbmdsZXMucHVzaChbY2VudGVyLCBvdXRlclBvaW50c1tpXSwgaW5uZXJQb2ludHNbaSArIDFdXSlcbiAgfVxuXG4gIC8vIGZvciAobGV0IGkgPSAwIGkgPCB0cmlhbmdsZXMubGVuZ3RoIGkrKykge1xuICAvLyAgIGNvbnN0IHRyaWFuZ2xlID0gdHJpYW5nbGVzW2ldXG4gIC8vICAgZHJhd1RyaWFuZ2xlKFxuICAvLyAgICAgdG9YWSh0cmlhbmdsZVswXSksXG4gIC8vICAgICB0b1hZKHRyaWFuZ2xlWzFdKSxcbiAgLy8gICAgIHRvWFkodHJpYW5nbGVbMl0pLFxuICAvLyAgICAgaSAlIDIgPT0gMCA/IFwicmVkXCIgOiBcImJsYWNrXCJcbiAgLy8gICApXG4gIC8vIH1cbn1cblxuZHJhd1N0YXIoNilcbiJdfQ==
